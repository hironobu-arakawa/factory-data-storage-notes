# よくある保存判断の失敗

このドキュメントは、  
「保存は不可逆な意思決定である」と理解した**直後**に読むことを想定しています。

多くの設計トラブルは、技術不足ではなく  
**判断の順番**と**責務の置き方**の誤りから生まれます。

---

## 失敗①  
### 「あとで使うかもしれないから保存する」

最も多く、最も危険な判断です。

この判断が見落としているのは：

- 保存した瞬間に意味が固定されること
- 後段が「事実」として扱い始めること
- 責任の所在が曖昧なままデータが増殖すること

「あとで使うかもしれない」は  
**保存理由ではなく、迷っているサイン**です。

迷っているデータは、保存してはいけません。

---

## 失敗②  
### 「分析で使いたい」＝保存してよい、と思っている

分析ニーズは、保存の正当化にはなりません。

- 分析は仮説を壊す行為
- 保存は前提を固定する行為

この二つは、**方向が逆**です。

分析用途しかないデータは：

- raw のまま一時保管する
- 再生成可能な形で持つ
- 保存を遅らせる

といった選択肢が常に存在します。

---

## 失敗③  
### 「DBに入れたら安心」という思い込み

DB に入れることは、安全でも中立でもありません。

DB に入れた瞬間：

- スキーマが契約になる
- 正しさの責任が DB 側に移る
- 「修正」は例外扱いになる

特に工場データでは、

> DB = 正本（canonical）

と誤解されやすく、  
**運用が後から介入できなくなります**。

---

## 失敗④  
### 品質が分からないまま保存する

次の状態が混ざっていませんか？

- 正常
- 異常
- 補正済み
- 未確認

これらを区別せずに保存すると、

- 下流は「正常」と誤解する
- 異常検知が壊れる
- 補正の責任が消える

**品質が未確定なデータは、Factではありません。**

保存するなら、  
品質状態も同時に固定する必要があります。

---

## 失敗⑤  
### 保存と配布を同じものだと思っている

よくある混線です。

- 保存：将来に残す意思決定
- 配布：今使うための投影

この二つを混ぜると：

- wide が canonical になる
- snapshot が正本扱いされる
- 後から変更できなくなる

**配布向けの形は、保存してはいけません。**

---

## 失敗⑥  
### 「形」を決めれば設計した気になる

long / wide / event / snapshot  
── どれも正しい道具です。

しかし、

> 形を決めること ≠ 保存してよいと決めること

です。

形は「どう保存するか」であり、  
**「保存するかどうか」を代替しません**。

---

## まとめ（短く）

- 保存は技術ではなく判断
- 保存は可逆ではない
- 保存は責任を固定する
- 迷っているデータは保存しない
- 配布と保存を混ぜない

このリポジトリは、  
**保存しないという判断を正当化するため**に存在します。
